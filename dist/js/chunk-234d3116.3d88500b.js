(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-234d3116"],{"115f":function(e,t,c){"use strict";c("b68e")},aa96:function(e,t,c){"use strict";var a=c("7a23"),o={class:"navbar navbar-expand-lg navbar-dark bg-dark"},n={class:"container-fluid"},r=Object(a["createElementVNode"])("a",{class:"navbar-brand",href:"#"},"Vue3 Demo",-1),s=Object(a["createElementVNode"])("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation"},[Object(a["createElementVNode"])("span",{class:"navbar-toggler-icon"})],-1),l={class:"collapse navbar-collapse",id:"navbarNav"},i={class:"navbar-nav ml-auto"},d=Object(a["createTextVNode"])("管理員登入");function u(e,t,c,u,b,m){var p=Object(a["resolveComponent"])("router-link");return Object(a["openBlock"])(),Object(a["createElementBlock"])("nav",o,[Object(a["createElementVNode"])("div",n,[r,s,Object(a["createElementVNode"])("div",l,[Object(a["createElementVNode"])("div",i,[Object(a["createVNode"])(p,{to:"/login",class:"nav-link"},{default:Object(a["withCtx"])((function(){return[d]})),_:1})])])])])}var b={methods:{logOut:function(){var e=this,t="".concat("https://vue3-course-api.hexschool.io/","logout");this.$http.post(t).then((function(t){console.log(t),e.$router.push("/login")})).catch((function(e){console.log(e)}))}}},m=(c("115f"),c("d959")),p=c.n(m);const O=p()(b,[["render",u]]);t["a"]=O},b68e:function(e,t,c){},bb51:function(e,t,c){"use strict";c.r(t);c("a4d3"),c("e01a");var a=c("7a23"),o={class:"tosat"},n={class:"container"},r=Object(a["createElementVNode"])("nav",{"aria-label":"breadcrumb"},[Object(a["createElementVNode"])("ol",{class:"breadcrumb breadcrumb-style"},[Object(a["createElementVNode"])("li",{class:"breadcrumb-item font-weight-bold"}," 首頁 "),Object(a["createElementVNode"])("li",{"aria-current":"page",class:"breadcrumb-item font-weight-bold active text-lakeblue"},"商品")])],-1),s={class:"row"},l={class:"col-md-2"},i={class:"row"},d=Object(a["createElementVNode"])("div",{class:"sortBtn font-weight-bold sortBtn_All"},"全部商品",-1),u=[d],b=Object(a["createElementVNode"])("div",{class:"sortBtn font-weight-bold"},"牛肉",-1),m=[b],p=Object(a["createElementVNode"])("div",{class:"sortBtn font-weight-bold"},"豬肉",-1),O=[p],j=Object(a["createElementVNode"])("div",{class:"sortBtn font-weight-bold"},"堅果",-1),v=[j],g=Object(a["createElementVNode"])("div",{class:"sortBtn font-weight-bold"},"蜜餞",-1),h=[g],N={class:"col-md-10"},f={class:"row"},V={class:"top"},E={class:"tag"},C=["onClick"],k=Object(a["createElementVNode"])("i",{class:"far fa-bookmark"},null,-1),y=[k],x={class:"bottom"},L={class:"classtitle"},B={class:"texts"},w={class:"pricerow"},P={class:"preprice"},S=Object(a["createTextVNode"])("原價"),T={class:"orange"},$=Object(a["createTextVNode"])("，現在只要"),z={class:"orange"},_={class:"content"},D={class:"btn-group btn-group-sm w-100"},I=["onClick"],M=["onClick","disabled"],U=Object(a["createTextVNode"])("加到購物車 "),F={key:0,class:"spinner-grow text-danger spinner-grow-sm",role:"status"},q=Object(a["createElementVNode"])("span",{class:"visually-hidden"},"Loading...",-1),J=[q],A=Object(a["createElementVNode"])("div",{class:"orangebar"},null,-1),G={class:"shopCart"},H=Object(a["createElementVNode"])("i",{class:"fas fa-shopping-cart"},null,-1),K={class:"cartItem"},Q={class:"cartBox"};function R(e,t,c,d,b,p){var j=this,g=Object(a["resolveComponent"])("Loading"),k=Object(a["resolveComponent"])("UserNav"),q=Object(a["resolveComponent"])("ToastMessages"),R=Object(a["resolveComponent"])("UserCart");return Object(a["openBlock"])(),Object(a["createElementBlock"])(a["Fragment"],null,[Object(a["createVNode"])(g,{active:e.isLoading},null,8,["active"]),Object(a["createVNode"])(k),Object(a["createElementVNode"])("div",o,[Object(a["createVNode"])(q)]),Object(a["createElementVNode"])("div",n,[r,Object(a["createElementVNode"])("div",s,[Object(a["createElementVNode"])("div",l,[Object(a["createElementVNode"])("div",i,[Object(a["createElementVNode"])("div",{class:Object(a["normalizeClass"])(["col-sm-12 col-md-12 text-center mb-2 sortList","all"==b.active?"active":""]),onClick:t[0]||(t[0]=function(e){return b.active="all"})},u,2),Object(a["createElementVNode"])("div",{class:Object(a["normalizeClass"])(["col-3 col-md-12 text-center mb-2 sortList","牛肉"==b.active?"active":""]),onClick:t[1]||(t[1]=function(e){return b.active="牛肉"})},m,2),Object(a["createElementVNode"])("div",{class:Object(a["normalizeClass"])(["col-3 col-md-12 text-center mb-2 sortList","豬肉"==b.active?"active":""]),onClick:t[2]||(t[2]=function(e){return b.active="豬肉"})},O,2),Object(a["createElementVNode"])("div",{class:Object(a["normalizeClass"])(["col-3 col-md-12 text-center mb-2 sortList","堅果"==b.active?"active":""]),onClick:t[3]||(t[3]=function(e){return b.active="堅果"})},v,2),Object(a["createElementVNode"])("div",{class:Object(a["normalizeClass"])(["col-3 col-md-12 text-center mb-2 sortList","蜜餞"==b.active?"active":""]),onClick:t[4]||(t[4]=function(e){return b.active="蜜餞"})},h,2)])]),Object(a["createElementVNode"])("div",N,[Object(a["createElementVNode"])("div",f,[(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(p.sortProducts,(function(t){return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",{class:"classbox",key:t.id},[Object(a["createElementVNode"])("div",V,[Object(a["createElementVNode"])("div",{class:"classpicture",style:Object(a["normalizeStyle"])("background-image:url("+t.imageUrl+")")},null,4),Object(a["createElementVNode"])("div",E,Object(a["toDisplayString"])(t.category),1),Object(a["createElementVNode"])("div",{class:"bookbtn",onClick:function(c){return e.addCart(t.id)}},y,8,C)]),Object(a["createElementVNode"])("div",x,[Object(a["createElementVNode"])("h1",L,Object(a["toDisplayString"])(t.title),1),Object(a["createElementVNode"])("div",B,[Object(a["createElementVNode"])("div",w,[Object(a["createElementVNode"])("div",P,[S,Object(a["createElementVNode"])("span",T,"NT$"+Object(a["toDisplayString"])(t.origin_price),1),$,Object(a["createElementVNode"])("span",z,"NT$"+Object(a["toDisplayString"])(t.price),1)])]),Object(a["createElementVNode"])("div",_,Object(a["toDisplayString"])(t.description.substring(0,20))+"....",1)]),Object(a["createElementVNode"])("div",D,[Object(a["createElementVNode"])("button",{type:"button",class:"btn btn-outline-secondary",onClick:function(e){return p.getProduct(t.id)}}," 查看更多 ",8,I),Object(a["createElementVNode"])("button",{type:"button",class:"btn btn-outline-danger",onClick:function(c){return e.addCart(t.id)},disabled:j.cartLoadingItem===t.id},[U,j.cartLoadingItem===t.id?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",F,J)):Object(a["createCommentVNode"])("",!0)],8,M)]),A])])})),128))])])]),Object(a["createElementVNode"])("div",G,[H,Object(a["createElementVNode"])("div",K,[Object(a["createElementVNode"])("div",Q,[Object(a["createVNode"])(R)])])])])],64)}var W=c("5530"),X=(c("4de4"),c("d3b7"),c("99af"),c("be92")),Y=c("e289"),Z=c("3690"),ee=c("7342"),te=c("aa96"),ce={class:"container"},ae={class:"sticky-top"},oe={class:"table align-middle"},ne=Object(a["createElementVNode"])("thead",null,[Object(a["createElementVNode"])("tr",null,[Object(a["createElementVNode"])("th"),Object(a["createElementVNode"])("th",null,"品名"),Object(a["createElementVNode"])("th",{style:{width:"110px"}},"數量"),Object(a["createElementVNode"])("th",null,"單價")])],-1),re=["disabled","onClick"],se=Object(a["createElementVNode"])("i",{class:"bi bi-x"},null,-1),le=[se],ie={key:0,class:"text-success"},de={class:"input-group input-group-sm"},ue=["onUpdate:modelValue","onChange","disabled"],be={class:"input-group-text"},me={class:"text-end"},pe={key:0,class:"text-success"},Oe=Object(a["createElementVNode"])("td",{colspan:"3",class:"text-end"},"總計",-1),je={class:"text-end"},ve={key:0},ge=Object(a["createElementVNode"])("td",{colspan:"3",class:"text-end text-success"},"折扣價",-1),he={class:"text-end text-success"},Ne={class:"input-group mb-3 input-group-sm"},fe={class:"input-group-append"},Ve={type:"button",class:"btn btn-outline-danger ml-auto"},Ee=Object(a["createTextVNode"])("結帳去");function Ce(e,t,c,o,n,r){var s=this,l=Object(a["resolveComponent"])("Loading"),i=Object(a["resolveComponent"])("ToastMessages"),d=Object(a["resolveComponent"])("router-link");return Object(a["openBlock"])(),Object(a["createElementBlock"])(a["Fragment"],null,[Object(a["createVNode"])(l,{active:e.isLoading},null,8,["active"]),Object(a["createVNode"])(i),Object(a["createElementVNode"])("div",ce,[Object(a["createElementVNode"])("div",ae,[Object(a["createElementVNode"])("table",oe,[ne,Object(a["createElementVNode"])("tbody",null,[e.cart.carts?(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],{key:0},Object(a["renderList"])(e.cart.carts,(function(t){return Object(a["openBlock"])(),Object(a["createElementBlock"])("tr",{key:t.id},[Object(a["createElementVNode"])("td",null,[Object(a["createElementVNode"])("button",{type:"button",class:"btn btn-outline-danger btn-sm",disabled:e.cartLoadingItem===t.id,onClick:function(c){return e.removeCartItem(t.id)}},le,8,re)]),Object(a["createElementVNode"])("td",null,[Object(a["createTextVNode"])(Object(a["toDisplayString"])(t.product.title)+" ",1),t.coupon?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",ie," 已套用優惠券 ")):Object(a["createCommentVNode"])("",!0)]),Object(a["createElementVNode"])("td",null,[Object(a["createElementVNode"])("div",de,[Object(a["withDirectives"])(Object(a["createElementVNode"])("input",{type:"number",class:"form-control",min:"1","onUpdate:modelValue":function(e){return t.qty=e},onChange:function(c){return e.updateCart(t)},disabled:s.cartLoadingItem===t.id},null,40,ue),[[a["vModelText"],t.qty,void 0,{number:!0}]]),Object(a["createElementVNode"])("div",be,"/ "+Object(a["toDisplayString"])(t.product.unit),1)])]),Object(a["createElementVNode"])("td",me,[e.cart.final_total!==e.cart.total?(Object(a["openBlock"])(),Object(a["createElementBlock"])("small",pe,"折扣價：")):Object(a["createCommentVNode"])("",!0),Object(a["createTextVNode"])(" "+Object(a["toDisplayString"])(e.$filters.currency(t.final_total)),1)])])})),128)):Object(a["createCommentVNode"])("",!0)]),Object(a["createElementVNode"])("tfoot",null,[Object(a["createElementVNode"])("tr",null,[Oe,Object(a["createElementVNode"])("td",je,Object(a["toDisplayString"])(e.$filters.currency(e.cart.total)),1)]),e.cart.final_total!==e.cart.total?(Object(a["openBlock"])(),Object(a["createElementBlock"])("tr",ve,[ge,Object(a["createElementVNode"])("td",he,Object(a["toDisplayString"])(e.$filters.currency(e.cart.final_total)),1)])):Object(a["createCommentVNode"])("",!0)])]),Object(a["createElementVNode"])("div",Ne,[Object(a["withDirectives"])(Object(a["createElementVNode"])("input",{type:"text",class:"form-control","onUpdate:modelValue":t[0]||(t[0]=function(e){return n.coupon_code=e}),placeholder:"請輸入優惠碼"},null,512),[[a["vModelText"],n.coupon_code]]),Object(a["createElementVNode"])("div",fe,[Object(a["createElementVNode"])("button",{class:"btn btn-outline-secondary",type:"button",onClick:t[1]||(t[1]=function(){return r.addCouponCode&&r.addCouponCode.apply(r,arguments)})}," 套用優惠碼 ")])])]),Object(a["createElementVNode"])("button",Ve,[Object(a["createVNode"])(d,{to:"/user/cart",class:"nav-link"},{default:Object(a["withCtx"])((function(){return[Ee]})),_:1})])])],64)}var ke=c("459d"),ye={data:function(){return{coupon_code:"",form:{user:{name:"",email:"",tel:"",address:""},message:""}}},components:{ToastMessages:ke["a"]},computed:Object(W["a"])(Object(W["a"])({},Object(X["d"])(Z["a"],["isLoading","cartLoadingItem"])),Object(X["d"])(ee["a"],["cart"])),methods:Object(W["a"])(Object(W["a"])({},Object(X["c"])(ee["a"],["addCart","getCart","updateCart","removeCartItem"])),{},{addCouponCode:function(){var e=this,t="".concat("https://vue3-course-api.hexschool.io/","api/").concat("unizatest","/coupon");this.isLoading=!0;var c={code:this.coupon_code};this.$http.post(t,{data:c}).then((function(t){e.isLoading=!1,console.log(t),e.getCart()}))},createOrder:function(){var e=this,t="".concat("https://vue3-course-api.hexschool.io/","api/").concat("unizatest","/order"),c=this.form;this.$http.post(t,{data:c}).then((function(t){console.log(t);var c=t.data.orderId;e.$router.push("/user/checkout/".concat(c))}))}}),created:function(){this.getCart()}},xe=c("d959"),Le=c.n(xe);const Be=Le()(ye,[["render",Ce]]);var we=Be,Pe=c("a18c"),Se={data:function(){return{active:"all",coupon_code:"",form:{user:{name:"",email:"",tel:"",address:""},message:""}}},components:{UserNav:te["a"],UserCart:we,ToastMessages:ke["a"]},computed:Object(W["a"])(Object(W["a"])(Object(W["a"])(Object(W["a"])({},Object(X["d"])(Y["a"],["products"])),Object(X["d"])(Z["a"],["isLoading","cartLoadingItem"])),Object(X["d"])(ee["a"],["cart"])),{},{sortProducts:function(){var e=this;if("all"===this.active)return this.products;var t=this.products.filter((function(t,c){return t.category===e.active}));return t}}),methods:Object(W["a"])(Object(W["a"])(Object(W["a"])({},Object(X["c"])(Y["a"],["getProducts"])),Object(X["c"])(ee["a"],["addCart","getCart","updateCart","removeCartItem"])),{},{addCouponCode:function(){var e=this,t="".concat("https://vue3-course-api.hexschool.io/","api/").concat("unizatest","/coupon");this.isLoading=!0;var c={code:this.coupon_code};this.$http.post(t,{data:c}).then((function(t){e.isLoading=!1,console.log(t),e.getCart()}))},createOrder:function(){var e=this,t="".concat("https://vue3-course-api.hexschool.io/","api/").concat("unizatest","/order"),c=this.form;this.$http.post(t,{data:c}).then((function(t){console.log(t);var c=t.data.orderId;e.$router.push("/user/checkout/".concat(c))}))},getProduct:function(e){Pe["a"].push("/user/product/".concat(e))}}),created:function(){this.getProducts(),this.getCart()}};c("fd78");const Te=Le()(Se,[["render",R]]);t["default"]=Te},d83f:function(e,t,c){},e01a:function(e,t,c){"use strict";var a=c("23e7"),o=c("83ab"),n=c("da84"),r=c("e330"),s=c("1a2d"),l=c("1626"),i=c("3a9b"),d=c("577e"),u=c("9bf2").f,b=c("e893"),m=n.Symbol,p=m&&m.prototype;if(o&&l(m)&&(!("description"in p)||void 0!==m().description)){var O={},j=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:d(arguments[0]),t=i(p,this)?new m(e):void 0===e?m():m(e);return""===e&&(O[t]=!0),t};b(j,m),j.prototype=p,p.constructor=j;var v="Symbol(test)"==String(m("test")),g=r(p.toString),h=r(p.valueOf),N=/^Symbol\((.*)\)[^)]+$/,f=r("".replace),V=r("".slice);u(p,"description",{configurable:!0,get:function(){var e=h(this),t=g(e);if(s(O,e))return"";var c=v?V(t,7,-1):f(t,N,"$1");return""===c?void 0:c}}),a({global:!0,forced:!0},{Symbol:j})}},e289:function(e,t,c){"use strict";c("99af"),c("a15b");var a=c("bc3a"),o=c.n(a),n=c("be92"),r=c("3690"),s=Object(r["a"])();t["a"]=Object(n["b"])("productStore",{state:function(){return{products:[],productsPage:[],pagination:{}}},getters:{},actions:{getProducts:function(){var e=this,t="".concat("https://vue3-course-api.hexschool.io/","api/").concat("unizatest","/products/all");s.isLoading=!0,console.log(s),o.a.get(t).then((function(t){t.data.success&&(console.log("actions getProducts",t.data),e.products=t.data.products,e.pagination=t.data.pagination,s.isLoading=!1)}))},getProductPage:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,c="".concat("https://vue3-course-api.hexschool.io/","api/").concat("unizatest","/admin/products?page=").concat(t);s.isLoading=!0,o.a.get(c).then((function(t){t.data.success&&(console.log("getProductPage",t.data),e.productsPage=t.data.products,e.pagination=t.data.pagination,s.isLoading=!1)}))},updateProduct:function(e){var t=this;console.log(e),this.tempProduct=e;var c="".concat("https://vue3-course-api.hexschool.io/","api/").concat("unizatest","/admin/product"),a="post";this.isNew||(c="".concat("https://vue3-course-api.hexschool.io/","api/").concat("unizatest","/admin/product/").concat(e.id),a="put");var n=this.$refs.productModal;s.isLoading=!0,o.a[a](c,{data:this.tempProduct}).then((function(e){console.log(e),n.hideModal(),e.data.success?(console.log("success true"),t.getProducts(),t.emitter.emit("push-message",{style:"success",title:"更新成功"})):t.emitter.emit("push-message",{style:"danger",title:"更新失敗",content:e.data.message.join("、")}),s.isLoading=!1}))}}})},fd78:function(e,t,c){"use strict";c("d83f")}}]);
//# sourceMappingURL=chunk-234d3116.3d88500b.js.map